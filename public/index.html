<html>

<head>
  <title>Documentation</title>
  <link rel="stylesheet" href="/stylesheets/style.css">
</head>

<body>
  <h1 id="saynatestbacknodejs">Sayna-TestBack-NodeJS</h1>
<h2 id="description">Description</h2>
<p>A NodeJS API that manages a user Authentication. </p>
<h2 id="host">HOST</h2>
<p>https://polar-meadow-89641.herokuapp.com</p>
<h2 id="installation">Installation</h2>
<pre><code class="bash language-bash">$ npm install
</code></pre>
<h2 id="runningtheapp">Running the app</h2>
<pre><code class="bash language-bash">$ npm start
</code></pre>
<h2 id="allendpoints">All Endpoints</h2>
<h3 id="therootget">The root [GET] [/]</h3>
<ul>
<li>Response 200 (rendering a documentation html page)</li>
</ul>
<h3 id="registerpostregister">Register [POST] [/register]</h3>
<ul>
<li><p>Request (application/json)</p>
<pre><code class="json language-json">    {
        "firstname": "Test",
        "lastname": "test",
        "email": "mytest@mail.com",
        "password": "mypass",
        "sexe": "F",
        "role": "ADMIN",
        "dateNaissance": "2021-11-12"
    }
</code></pre></li>
<li><p>Response 200 (application/json)</p>
<ul>
<li>Body</li></ul>
<pre><code class="json language-json">    {
        "error": false,
        "message": "L'utilisateur a bien été créé avec succès",
        "user": {
            "firstname": "Test",
            "lastname": "test",
            "email": "mytest@mail.com",
            "sexe": "F",
            "role": "ADMIN",
            "dateNaissance": "2021-11-12T00:00:00.000Z",
            "createdAt": "2021-12-26T16:52:01.480Z",
            "updatedAt": "2021-12-26T16:52:01.480Z"
        }
    }
</code></pre></li>
</ul>
<h3 id="loginpostlogin">Login [POST] [/login]</h3>
<ul>
<li><p>Request (application/json)</p>
<pre><code class="json language-json">    {
        "email": "mytest@mail.com",
        "password": "12345678"
    }
</code></pre></li>
<li><p>Response 200 (application/json)</p>
<ul>
<li>Body</li></ul>
<pre><code class="json language-json">    {
        "error": false,
        "message": "L'utilisateur a été authentifié avec succès",
        "user": {
            "firstname": "Test",
            "lastname": "test",
            "email": "mytest@mail.com",
            "sexe": "F",
            "dateNaissance": "2021-11-12T00:00:00.000Z",
            "createdAt": "2021-12-26T12:27:28.429Z",
            "updatedAt": "2021-12-26T12:27:28.429Z"
        },
        "access_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI2MWM4NWZiMDkyY2VlOWMyMDA5MTFiYjgiLCJpYXQiOjE2NDA1MzQ5NjAsImV4cCI6MTY0MDUzODU2MH0.kMY2cHI0k6kORf6u88i3rP0fDGZDMgAV7BgvjLeF5sk",
        "refresh_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI2MWM4NWZiMDkyY2VlOWMyMDA5MTFiYjgiLCJpYXQiOjE2NDA1MzQ5NjAsImV4cCI6MTY0MTEzOTc2MH0.mmB_uZ8TYS8A4mEvJzcAqd72I_5ax5P_vbv_o03SuBg"
    }
</code></pre></li>
</ul>
<h3 id="updateuserputuserneedauthorizationinheader">Update user [PUT] [/user] [Need Authorization in header]</h3>
<ul>
<li><p>Request (application/json)</p>
<p>Don't forget to add Authorization in your header.</p>
<p>Only four field can be updated : firstname, lastname, dateNaissance, sexe.
Just write your change, you can forget others. Like in the next request, only "firstname" and "sexe" will be updated.</p>
<pre><code class="json language-json">    {
        "firstname": "Jane",
        "sexe": "F"
    }
</code></pre>
<pre><code>
</code></pre></li>
<li><p>Response 200 (application/json)</p>
<ul>
<li>Body</li></ul>
<pre><code class="json language-json">    {
        "error": false,
        "message": "Vos données ont été mises à jour"
    }
</code></pre></li>
</ul>
<h3 id="deleteuserdeleteuserneedauthorizationinheader">Delete user [DELETE] [/user] [Need Authorization in header]</h3>
<ul>
<li><p>Request</p>
<p>Don't forget to add Authorization in your header.</p></li>
<li><p>Response 200 (application/json)</p>
<ul>
<li>Body</li></ul>
<pre><code class="json language-json">    {
        "error": false,
        "message": "Votre compte et le compte de vos enfants ont été suprrimés avec succès"
    }
</code></pre></li>
</ul>
<h3 id="addbankcardputusercartneedauthorizationinheader">Add bank card [PUT] [/user/cart] [Need Authorization in header]</h3>
<ul>
<li><p>Request (application/json)</p>
<p>Don't forget to add Authorization in your header.</p>
<pre><code class="json language-json">   {
        "cartNumber": "1566262616161",
        "month": "Janvier",
        "year": 2022,
        "default": "NULL"
    }
</code></pre>
<pre><code>
</code></pre></li>
<li><p>Response 200 (application/json)</p>
<ul>
<li>Body </li></ul>
<pre><code class="json language-json">    {
        "error": false,
        "message": "Vos données ont été mises à jour"
    }
</code></pre></li>
</ul>
<h3 id="getsongslistinggetsongsneedauthorizationinheader">Get songs listing [GET] [/songs] [Need Authorization in header]</h3>
<pre><code>+ Request

    Don't forget to Authorization in your header.

+ Response 200 (application/json)

    + Body

    ```json
        {
            "error": false,
            "songs": [
                {
                    "name": "Ed Sheeran &amp; Elton John - Merry Christmas [Official Video]",
                    "url": "https://www.youtube.com/watch?v=Q_yuO8UNGmY&amp;list=RDCLAK5uy_ns8ghALwo2t9QqB7VBq_8FT6ktbL1XGIk&amp;start_radio=1",
                    "cover": "Non",
                    "time": 3.29,
                    "type": "Noël",
                    "createdAt": "2021-12-27T05:17:41.123Z",
                    "updatedAt": "2021-12-27T05:17:41.123Z",
                    "id": "61c94c757562e43596004e78"
                },
                {
                    "name": "Meghan Trainor - Rockin' Around The Christmas Tree (Official Christmas Stroll Video)",
                    "url": "https://www.youtube.com/watch?v=a7nYyTNX6Ys&amp;list=RDCLAK5uy_ns8ghALwo2t9QqB7VBq_8FT6ktbL1XGIk&amp;index=4",
                    "cover": "Non",
                    "time": 2.28,
                    "type": "Noël",
                    "createdAt": "2021-12-27T05:21:35.248Z",
                    "updatedAt": "2021-12-27T05:21:35.248Z",
                    "id": "61c94d5fbfe47464c182a2c9"
                },
                {
                    "name": "Mariah Carey - All I Want for Christmas Is You (Make My Wish Come True Edition)",
                    "url": "https://www.youtube.com/watch?v=aAkMkVFwAoo&amp;list=RDCLAK5uy_kOeihDkxwRjMxrIyvzrY3K-iUiWeaxZhY&amp;start_radio=1",
                    "cover": "Non",
                    "time": 4.02,
                    "type": "Noël",
                    "createdAt": "2021-12-27T05:24:26.474Z",
                    "updatedAt": "2021-12-27T05:24:26.474Z",
                    "id": "61c94e0abfe47464c182a2ce"
                },
                {
                    "name": "Wham! - Last Christmas (Official Video)",
                    "url": "https://www.youtube.com/watch?v=E8gmARGvPlI&amp;list=RDCLAK5uy_kOeihDkxwRjMxrIyvzrY3K-iUiWeaxZhY&amp;index=4",
                    "cover": "Non",
                    "time": 4.38,
                    "type": "Noël",
                    "createdAt": "2021-12-27T05:32:57.704Z",
                    "updatedAt": "2021-12-27T05:32:57.704Z",
                    "id": "61c9500974bfad83ffee2198"
                },
                {
                    "name": "Andy Williams - The Most Wonderful Time Of The Year (From The Andy Williams Show)",
                    "url": "https://www.youtube.com/watch?v=73UqDX_quk0&amp;list=RDCLAK5uy_kOeihDkxwRjMxrIyvzrY3K-iUiWeaxZhY&amp;index=5",
                    "cover": "Non",
                    "time": 2.52,
                    "type": "Noël",
                    "createdAt": "2021-12-27T05:33:48.943Z",
                    "updatedAt": "2021-12-27T05:33:48.943Z",
                    "id": "61c9503c74bfad83ffee219b"
                }
            ]
        }
    ```
</code></pre>
<h3 id="getsongbyidgetsongidneedauthorizationinheader">Get song by id [GET] [/song/{id}] [Need Authorization in header]</h3>
<pre><code>+ Request

    Don't forget to add Authorization in your header and the id in query parameter.

+ Response 200 (application/json)

    + Body

    ```json
       {
            "error": false,
            "songs": {
                "name": "Ed Sheeran &amp; Elton John - Merry Christmas [Official Video]",
                "url": "https://www.youtube.com/watch?v=Q_yuO8UNGmY&amp;list=RDCLAK5uy_ns8ghALwo2t9QqB7VBq_8FT6ktbL1XGIk&amp;start_radio=1",
                "cover": "Non",
                "time": 3.29,
                "type": "Noël",
                "createdAt": "2021-12-27T05:17:41.123Z",
                "updatedAt": "2021-12-27T05:17:41.123Z",
                "id": "61c94c757562e43596004e78"
            }
        }
    ``` 
</code></pre>
</body>

</html>
